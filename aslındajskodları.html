<script>
    // Store valid reference codes in an array
    var validRefCodes = ["AHMET15", "JOHN20", "MARY10"]; // You can change these

    // Listen to the refCode input field
    document.getElementById("refCode").addEventListener("input", function() {
        var refCodeInput = this.value.trim();
        var refCodeMessage = document.getElementById("refCodeMessage");

        if (validRefCodes.includes(refCodeInput)) {
            // When a valid reference code is entered
            refCodeMessage.textContent = "Your %15 discount code has been applied";
            refCodeMessage.style.color = "green";

            // Get the potential customers input
            var potentialCustomersInput = document.getElementById("potentialCustomers");
            var potentialCustomers = potentialCustomersInput.value.trim();

            // Check if it contains only numbers
            if (!/^\d+$/.test(potentialCustomers)) {
                alert("Please enter a valid number for potential customers.");
                return;
            }

            // Convert the potentialCustomers to a numeric value
            potentialCustomers = parseInt(potentialCustomers);

            // Calculate the price based on the potential customers
            var price;
            if (potentialCustomers >= 1000 && potentialCustomers < 10000) {
                price = (potentialCustomers * 0.25 * 0.85).toFixed(2);
            } else if (potentialCustomers >= 10000 && potentialCustomers < 50000) {
                price = (potentialCustomers * 0.22 * 0.85).toFixed(2);
            } else if (potentialCustomers >= 50000 && potentialCustomers < 100000) {
                price = (potentialCustomers * 0.19 * 0.85).toFixed(2);
            } else if (potentialCustomers >= 100000 && potentialCustomers < 500000) {
                price = (potentialCustomers * 0.16 * 0.85).toFixed(2);
            } else if (potentialCustomers >= 500000 && potentialCustomers < 1000000) {
                price = (potentialCustomers * 0.13 * 0.85).toFixed(2);
            } else if (potentialCustomers >= 1000000 && potentialCustomers < 5000000) {
                price = (potentialCustomers * 0.10 * 0.85).toFixed(2);
            } else if (potentialCustomers >= 5000000 && potentialCustomers < 10000000) {
                price = (potentialCustomers * 0.06 * 0.85).toFixed(2);
            } else if (potentialCustomers >= 10000000 && potentialCustomers < 50000000) {
                price = (potentialCustomers * 0.03 * 0.85).toFixed(2);
            } else if (potentialCustomers >= 50000000 && potentialCustomers <= 100000000) {
                price = (potentialCustomers * 0.0009 * 0.85).toFixed(2);
            } else {
                price = "Invalid quantity";
            }

            // Update the displayed price
            var displayedPrice = document.getElementById("displayedPrice");
            displayedPrice.textContent = "$ " + price + "/TOTAL";
            displayedPrice.style.color = "green";
        } else if (refCodeInput === "") {
            // Clear any message if refCode is empty
            refCodeMessage.textContent = "";
        } else {
            // When an invalid code is entered
            refCodeMessage.textContent = "Invalid reference code";
            refCodeMessage.style.color = "red";
        }
    });

    // Listen to the potentialCustomers input field for price calculation
    document.getElementById("potentialCustomers").addEventListener("input", calculatePrice);

    // Price calculation function
    function calculatePrice() {
        // Get the potential customers input
        var potentialCustomersInput = document.getElementById("potentialCustomers");
        var potentialCustomers = potentialCustomersInput.value.trim();

        // Check if it contains only numbers
        if (!/^\d+$/.test(potentialCustomers)) {
            alert("Please enter a valid number for potential customers.");
            return;
        }

        // Convert the potentialCustomers to a numeric value
        potentialCustomers = parseInt(potentialCustomers);

        // Calculate the price based on the potential customers
        var price;
        if (potentialCustomers >= 1000 && potentialCustomers < 10000) {
            price = (potentialCustomers * 0.25).toFixed(2);
        } else if (potentialCustomers >= 10000 && potentialCustomers < 50000) {
            price = (potentialCustomers * 0.22).toFixed(2);
        } else if (potentialCustomers >= 50000 && potentialCustomers < 100000) {
            price = (potentialCustomers * 0.19).toFixed(2);
        } else if (potentialCustomers >= 100000 && potentialCustomers < 500000) {
            price = (potentialCustomers * 0.16).toFixed(2);
        } else if (potentialCustomers >= 500000 && potentialCustomers < 1000000) {
            price = (potentialCustomers * 0.13).toFixed(2);
        } else if (potentialCustomers >= 1000000 && potentialCustomers < 5000000) {
            price = (potentialCustomers * 0.10).toFixed(2);
        } else if (potentialCustomers >= 5000000 && potentialCustomers < 10000000) {
            price = (potentialCustomers * 0.06).toFixed(2);
        } else if (potentialCustomers >= 10000000 && potentialCustomers < 50000000) {
            price = (potentialCustomers * 0.03).toFixed(2);
        } else if (potentialCustomers >= 50000000 && potentialCustomers <= 100000000) {
            price = (potentialCustomers * 0.0009).toFixed(2);
        } else {
            price = "Invalid quantity";
        }

        // Update the displayed price
        var displayedPrice = document.getElementById("displayedPrice");
        displayedPrice.textContent = "$ " + price + "/TOTAL";
        displayedPrice.style.color = "green";
    }
</script>
